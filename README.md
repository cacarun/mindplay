# Mind Play

![Mind Play Logo](mindplay/Assets.xcassets/AppIcon.appiconset/AppIcon-60@2x.png)

Mind Play 是一款专注于认知能力训练的 iOS 娱乐游戏应用，通过有趣的游戏帮助用户提升反应速度、注意力和记忆力等认知能力。应用主要面向儿童及青少年，同时也适合所有年龄段的用户进行大脑训练。界面设计采用明亮活泼的渐变色彩、柔和圆润的形状和丰富的动画效果，符合儿童的审美喜好。每个游戏都精心设计了独特的视觉主题，通过生动的交互反馈和奖励机制增强用户参与感，让认知训练变得趣味十足。整体风格轻松友好，减少了传统训练应用的严肃感，营造出一个愉悦而专注的学习环境。

## 技术架构

### 开发环境
- 语言: Swift 5.9
- 框架: SwiftUI
- 最低支持版本: iOS 16.0
- 开发工具: Xcode 15

### 项目结构

```
mindplay/
├── Models/             # 数据模型
│   └── GameModel.swift # 游戏类型和数据管理
├── Views/              # 视图组件
│   ├── HomeView.swift  # 主页视图
│   ├── ReactionTime/   # 反应时间游戏相关视图
│   │   ├── ReactionTimeIntroView.swift
│   │   ├── ReactionTimeGameView.swift
│   │   └── ReactionTimeResultView.swift
│   ├── SequenceMemory/ # 序列记忆游戏相关视图
│   │   ├── SequenceMemoryIntroView.swift
│   │   ├── SequenceMemoryGameView.swift
│   │   └── SequenceMemoryResultView.swift
│   ├── AimTrainer/     # 目标训练游戏相关视图
│   │   ├── AimTrainerIntroView.swift
│   │   ├── AimTrainerGameView.swift
│   │   └── AimTrainerResultView.swift
│   ├── NumberMemory/   # 数字记忆游戏相关视图
│   │   ├── NumberMemoryIntroView.swift
│   │   ├── NumberMemoryGameView.swift
│   │   └── NumberMemoryResultView.swift
│   ├── VerbalMemory/   # 词汇记忆游戏相关视图
│   │   ├── VerbalMemoryIntroView.swift
│   │   ├── VerbalMemoryGameView.swift
│   │   └── VerbalMemoryResultView.swift
│   ├── ChimpTest/      # 猩猩测试游戏相关视图
│   │   ├── ChimpTestIntroView.swift
│   │   ├── ChimpTestGameView.swift
│   │   └── ChimpTestResultView.swift
│   ├── VisualMemory/   # 视觉记忆游戏相关视图
│   │   ├── VisualMemoryIntroView.swift
│   │   ├── VisualMemoryGameView.swift
│   │   └── VisualMemoryResultView.swift
│   └── SchulteTable/   # 舒尔特表游戏相关视图
│       ├── SchulteTableIntroView.swift
│       ├── SchulteTableGameView.swift
│       └── SchulteTableResultView.swift
├── Localization/       # 本地化资源
│   ├── Localizable.swift
│   ├── en.lproj/
│   └── zh-Hans.lproj/
└── ContentView.swift   # 应用入口视图
```

### 核心组件

#### GameDataManager
负责游戏数据的管理，包括保存和获取游戏成绩。使用 `UserDefaults` 存储用户的游戏数据。

```swift
class GameDataManager: ObservableObject {
    func saveResult(gameType: GameType, score: Double, extraData: String? = nil)
    func getBestScore(for gameType: GameType, with extraData: String? = nil) -> Double?
}
```

#### 游戏类型
使用枚举定义不同的游戏类型，便于扩展新游戏。

```swift
enum GameType: String, CaseIterable, Identifiable {
    case reactionTime = "Reaction Time"
    case sequenceMemory = "Sequence Memory"
    case aimTrainer = "Aim Trainer"
    case numberMemory = "Number Memory"
    case verbalMemory = "Verbal Memory"
    case chimpTest = "Chimp Test"
    case visualMemory = "Visual Memory"
    case schulteTable = "Schulte Table"
    // 未来游戏将在此添加
}
```

### 多语言支持

应用支持英文和简体中文，使用系统的本地化机制自动切换语言。

- 使用 `Localizable.strings` 文件存储本地化字符串
- 通过 `NSLocalizedString` 获取当前语言的字符串
- 应用会根据系统语言设置自动切换界面语言

## 统一设计风格

所有游戏都遵循同一设计语言，确保应用内的一致性和专业性。

### 视觉设计元素

1. **渐变背景**：
   - 每个游戏使用专属的渐变色背景
   - 渐变方向统一从左上角到右下角
   - 色调选择与游戏主题相关，创造特定的情绪氛围

2. **装饰性元素**：
   - 背景中融入相关游戏主题的悬浮装饰元素
   - 元素具有缓慢的动画效果，增强视觉活力
   - 透明度适中，不干扰主要内容

3. **卡片式布局**：
   - 内容区域使用白色半透明卡片，带圆角和轻微阴影
   - 明确的视觉层次，主要内容突出显示
   - 一致的内边距和外边距，创造和谐的空间感

4. **按钮与交互元素**：
   - 主要按钮使用实心白色背景，游戏主题色作为文字颜色
   - 次要按钮使用半透明白色背景
   - 所有按钮具有统一的圆角、阴影和悬停效果
   - 按钮点击时提供触觉反馈

5. **排版规范**：
   - 标题使用大号粗体，带轻微文字阴影
   - 正文使用清晰易读的字体，合适的行高和字间距
   - 信息层次分明，使用不同字号和粗细
   - 统一字体家族，确保整体和谐

6. **动画效果**：
   - 页面转场使用平滑的淡入淡出效果
   - 重要元素具有呼吸或脉动效果，吸引用户注意
   - 游戏成功或完成时展示庆祝性动画效果
   - 统一的动画时长和缓动函数

## 标准游戏流程与页面布局

### 游戏流程

每个游戏均遵循相同的三阶段流程：

1. **介绍页面 (IntroView)**
2. **游戏页面 (GameView)**
3. **结果页面 (ResultView)**

### 页面布局规范

#### 介绍页面 (IntroView)

1. **顶部区域**：
   - 游戏标题（大号粗体）
   - 简短游戏描述（副标题样式）
   - 带有缓慢缩放动画效果

2. **游戏选项卡片**：
   - 白色半透明卡片，圆角和阴影
   - 游戏参数选择（难度、模式、时长等）
   - 选项使用分段控件或横向按钮组
   - 当前选中选项高亮显示

3. **最佳成绩卡片**：
   - 显示玩家历史最佳成绩
   - 当无数据时显示相应提示
   - 包含相关图标（奖杯、闪电等）并有轻微动画

4. **开始游戏按钮**：
   - 大尺寸，高对比度，居中显示
   - 带有脉动动画效果，引导用户点击
   - 点击时提供触觉反馈

5. **游戏说明卡片**：
   - 分步骤说明游戏规则
   - 使用编号列表或图标增强可读性
   - 可能包含示例图片或图标

6. **关于游戏卡片**：
   - 介绍游戏背景和意义
   - 说明游戏所训练的认知能力
   - 包含评分标准或参考数据

#### 游戏页面 (GameView)

1. **状态栏**：
   - 位于屏幕顶部
   - 显示关键游戏状态（时间、分数、关卡等）
   - 使用清晰、大号字体
   - 视觉上与游戏区域分离

2. **游戏区域**：
   - 占据屏幕主要部分
   - 清晰界定的互动区域
   - 响应式布局，适应不同屏幕尺寸
   - 游戏元素具有适当的间距，防止误触

3. **控制区域**（如适用）：
   - 位于屏幕底部
   - 包含游戏中必要的按钮和控件
   - 大小适中，易于触摸
   - 逻辑分组，避免混淆

4. **反馈元素**：
   - 游戏中的动作提供即时视觉反馈
   - 错误和成功状态有明确的视觉区分
   - 关键时刻使用动画强调（完成、失败等）

5. **过渡状态**：
   - 不同游戏阶段之间的平滑过渡
   - 加载、准备和结束阶段有清晰提示

#### 结果页面 (ResultView)

1. **成绩展示卡片**：
   - 突出显示主要成绩，使用大号字体
   - 伴随适当的图标（计时器、目标等）
   - 动态数字显示效果或强调动画

2. **表现评价卡片**：
   - 基于成绩给出评价（优秀、良好、平均等）
   - 评价结果使用色彩差异进行区分
   - 附带详细的表现描述文本

3. **历史数据卡片**：
   - 显示过去游戏的成绩记录
   - 使用图表可视化展示（折线图或柱状图）
   - 数据点和坐标轴标签清晰可读
   - 无数据时显示友好提示

4. **操作按钮区域**：
   - "再玩一次"和"返回主页"按钮并排
   - 使用图标增强可识别性
   - 按钮样式与游戏主题一致
   - 点击时提供触觉反馈

## 游戏介绍

本应用目前包含8个认知训练游戏，每个游戏专注于特定认知能力的培养。

### 1. 反应时间测试 (Reaction Time Test)

**培养能力**：视觉反应速度和注意力集中

**游戏流程**：
1. 等待屏幕从红色变为绿色
2. 变绿后立即点击屏幕
3. 测量从颜色变化到点击的时间（毫秒）
4. 完成所有设定的回合数（1, 3, 5 或 10轮）

**评分标准**：
- 小于 200 毫秒：优秀
- 200-250 毫秒：良好
- 250-300 毫秒：平均
- 大于 300 毫秒：低于平均

**设计特点**：
- 鲜明的红绿色彩对比，增强视觉刺激
- 大字体数字显示反应时间，直观易读
- 进度指示显示当前回合进度

### 2. 序列记忆测试 (Sequence Memory Test)

**培养能力**：短期记忆和模式识别

**游戏流程**：
1. 系统依次点亮方格形成序列
2. 玩家需按照相同顺序点击方格
3. 每轮成功后，序列增加一个新步骤
4. 错误点击则游戏结束

**评分标准**：
- 12个或更多：优秀
- 9-11个：良好
- 6-8个：平均
- 少于6个：需要练习

**设计特点**：
- 现代化网格布局，灵活适应不同屏幕尺寸
- 亮度和颜色变化提供清晰的视觉反馈
- 序列播放速度适中，保持挑战性

### 3. 目标训练 (Aim Trainer)

**培养能力**：手眼协调和精细运动控制

**游戏流程**：
1. 屏幕上随机位置出现圆形目标
2. 玩家需快速准确地点击目标
3. 点击后目标消失，新目标出现在随机位置
4. 完成所有目标（20个）后游戏结束

**评分标准**：
- 平均时间 < 500毫秒：优秀
- 500-700毫秒：良好
- 700-1000毫秒：平均
- > 1000毫秒：需要练习

**设计特点**：
- 目标大小适中，具有高对比度
- 成功点击时提供视觉和触觉反馈
- 屏幕顶部显示进度和当前速度数据

### 4. 数字记忆 (Number Memory)

**培养能力**：数字记忆和工作记忆

**游戏流程**：
1. 屏幕显示一串数字，持续几秒钟
2. 数字消失后，玩家需在输入框中重现该数字
3. 答对后进入下一关，数字位数增加
4. 答错或超时则游戏结束

**评分标准**：
- 11位或更多：优秀
- 9-10位：良好
- 7-8位：平均
- 少于7位：需要练习

**设计特点**：
- 数字显示使用大号等宽字体，便于记忆
- 倒计时计时器提供时间感知
- 键盘输入优化，支持快速输入

### 5. 词汇记忆 (Verbal Memory)

**培养能力**：语言记忆和词汇识别

**游戏流程**：
1. 屏幕显示一个词汇
2. 玩家需判断这个词是新出现的还是之前见过的
3. 选择"见过"或"新词"进行回答
4. 三次错误判断后游戏结束

**评分标准**：
- 30个或更多：优秀
- 20-29个：良好
- 10-19个：平均
- 少于10个：需要练习

**设计特点**：
- 词汇居中大字体显示，减少干扰
- 色彩区分明显的"见过"和"新词"按钮
- 剩余生命值和当前分数实时显示

### 6. 猩猩测试 (Chimp Test)

**培养能力**：工作记忆和空间记忆

**游戏流程**：
1. 屏幕上显示带有数字的方块（从1开始）
2. 记忆数字位置后，数字消失
3. 按照数字顺序（1,2,3...）点击方块
4. 每关成功后增加一个数字，三次失败则结束

**评分标准**：
- 9个或更多：优秀
- 7-8个：良好
- 5-6个：平均
- 少于5个：需要练习

**设计特点**：
- 数字排列随机，增加挑战性
- 点击正确时方块变色提供反馈
- 失败尝试以小图标形式显示

### 7. 视觉记忆 (Visual Memory)

**培养能力**：空间位置记忆和视觉识别

**游戏流程**：
1. 网格中的一些方块短暂闪烁
2. 闪烁结束后，玩家需点击所有闪烁过的方块
3. 每关成功后，需记忆的方块数量增加
4. 每关允许有限次错误，三条生命用完则游戏结束

**评分标准**：
- 12个或更多：优秀
- 8-11个：良好
- 5-7个：平均
- 少于5个：需要练习

**设计特点**：
- 网格大小随关卡增加自动调整
- 闪烁方块使用高对比度颜色
- 生命值以心形图标直观显示

### 8. 舒尔特表 (Schulte Table)

**培养能力**：注意力分散和周边视觉

**游戏流程**：
1. 屏幕显示填充有随机排列数字的网格
2. 玩家需按照数字顺序（1,2,3...）点击方格
3. 计时从开始到所有数字点击完成
4. 可选择不同难度（3×3, 4×4, 5×5等）

**评分标准**（5×5表格）：
- 小于25秒：优秀
- 25-40秒：良好
- 40-60秒：平均
- 大于60秒：需要练习

**设计特点**：
- 清晰的网格界面，减少视觉干扰
- 已点击数字变色，提供清晰的进度反馈
- 大号计时器显示当前用时

## 如何添加新游戏

要添加新游戏，需要遵循以下步骤：

1. **游戏定义**：
   - 在 `GameType` 枚举中添加新游戏类型
   - 为该游戏添加本地化名称、描述和图标

2. **创建视图文件**：
   - 创建专用文件夹，命名为游戏名称
   - 创建三个必要视图：IntroView、GameView 和 ResultView
   - 使用现有游戏作为模板，保持结构一致

3. **遵循设计风格**：
   - 为游戏选择独特但协调的渐变色背景
   - 实现所有标准动画和交互效果
   - 遵循统一的布局和间距规范

4. **实现数据管理**：
   - 使用 GameDataManager 保存和获取游戏成绩
   - 处理额外的游戏配置数据（如难度等）

5. **添加本地化支持**：
   - 在 Localizable.swift 添加新游戏所需的字符串键
   - 在中英文本地化文件中添加相应翻译

6. **主页集成**：
   - 在 HomeView 中的 destinationView 方法添加导航逻辑
   - 确保卡片设计与现有游戏保持一致

7. **测试和优化**：
   - 在不同设备尺寸上测试布局响应性
   - 优化性能，确保动画流畅
   - 确保游戏难度合理平衡

遵循这些标准可以确保新添加的游戏与现有应用保持一致的用户体验，同时保持代码结构的整洁和可维护性。

